{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./app/activities/activity.js","webpack:///./app/activities/gameActivity.js","webpack:///./app/activities/resultActivity.js","webpack:///./app/activities/startActivity.js","webpack:///./app/assetsManager.js","webpack:///./app/fruits/blueFruit.js","webpack:///./app/fruits/fruit.js","webpack:///./app/fruits/greenFruit.js","webpack:///./app/fruits/orangeFruit.js","webpack:///./app/fruits/purpleFruit.js","webpack:///./app/fruits/redFruit.js","webpack:///./app/fruits/yellowFruit.js","webpack:///./app/gameApp.js","webpack:///./app/index.js","webpack:///./app/loggers/consoleLogger.js","webpack:///./app/loggers/logger.js","webpack:///./app/options.js","webpack:///./app/player.js"],"names":[],"mappings":"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AEA;;AAEA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,cAAc;AACd,iBAAiB,WAAW;AAC5B;AACA;AACA;AACA,wBAAwB,gDAAO;AAC/B,wBAAwB,gDAAO;AAC/B;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;ACzCA;AAAA;AAAA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEO,0C;;;;;;;;;;;;ACxCP;AAAA;AAAA;AAAgC;AAChC,wBAAwB,4CAAK;;AAE7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;AClBA;AAAA;AAAA;AAAqC;AACrC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,wBAAwB,gDAAO;AAC/B;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,uBAAuB,gDAAO;AAC9B,wBAAwB,gDAAO;AAC/B,yBAAyB,gDAAO,MAAM,gDAAO;;;;;;;;;;;;;;AClE7C;AAAA;AAAA;AAAgC;AAChC,yBAAyB,4CAAK;;AAE9B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;AClBA;AAAA;AAAA;AAAgC;AAChC,0BAA0B,4CAAK;;AAE/B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;AClBA;AAAA;AAAA;AAAgC;AAChC,0BAA0B,4CAAK;;AAE/B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;AClBA;AAAA;AAAA;AAAgC;AAChC,uBAAuB,4CAAK;;AAE5B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;AClBA;AAAA;AAAA;AAAgC;AAChC,0BAA0B,4CAAK;;AAE/B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;AClBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2D;AACF;AACI;AACb;AACX;AACC;AACI;AACR;;AAElC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,uEAAa;AACzB,YAAY,qEAAY;AACxB,YAAY,yEAAc;AAC1B;AACA,0BAA0B,8CAAM;AAChC;;AAEA;AACA,QAAQ,4DAAa,YAAY,kDAAS;AAC1C,QAAQ,4DAAa,WAAW,iDAAQ;AACxC;AACA;AACA;AACA,SAAS;AACT;AACA,YAAY,sDAAM;AAClB,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;;;;;;;;;;;;;;ACrDA;AAAA;AAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,gDAAO;AAC/B;AACA;;;;;;;;;;;;;ACTA;AAAA;AAAA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;;;;;AClBA;AAAA;AAAA;AAAgD;AAChD;;AAEA;AACA;AACA;AACA,kCAAkC,4DAAa;AAC/C;AACA;AACA,kCAAkC,4DAAa;AAC/C;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEO,6C;;;;;;;;;;;;AClCP;AAAA;AAAA;AAAA;AAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA,E;;;;;;;;;;;;AC1HA;AAAA;AAAA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import { assetsManager } from '../assetsManager';\r\nimport { options } from '../options';\r\nclass Activity{\r\n\r\n    constructor(stage){\r\n        this.assetsLoader = assetsManager;\r\n        this.stage = stage;\r\n    }\r\n\r\n    setPlayer(player){\r\n        this.player = player;\r\n    }\r\n\r\n    setBackground(){\r\n        const bgImage = assetsManager.getImage('background');\r\n        const background = new createjs.Bitmap(bgImage);\r\n        background.x = 0;\r\n        background.y = 0;\r\n        this.backgroundContainer.addChild(background);\r\n        //this.stage.addChild(background);\r\n    }\r\n\r\n    onInit(){\r\n        this.backgroundContainer = new createjs.Container(); //for background and secondary objects, like a fruit spot\r\n        this.passiveObjectsContainer = new createjs.Container(); //for cut fruits objects\r\n        this.activeObjectsContainer = new createjs.Container(); //for active fruit objects\r\n        this.interfaceContainer = new createjs.Container(); //for buttons and game info, like a score\r\n        this.stage.addChild(this.backgroundContainer);\r\n        this.stage.addChild(this.passiveObjectsContainer);\r\n        this.stage.addChild(this.activeObjectsContainer);\r\n        this.stage.addChild(this.interfaceContainer);\r\n        this.createUI();\r\n    }\r\n\r\n    createUI(){\r\n\r\n    }\r\n\r\n    onDestroy(){\r\n        \r\n    }\r\n\r\n}\r\n\r\nexport { Activity };","import { Activity } from './activity';\r\nimport { logger } from '../loggers/logger';\r\nimport { options } from '../options';\r\nimport { RedFruit } from '../fruits/redFruit';\r\nimport { BlueFruit } from '../fruits/blueFruit';\r\nimport { GreenFruit } from '../fruits/greenFruit';\r\nimport { OrangeFruit } from '../fruits/orangeFruit';\r\nimport { PurpleFruit } from '../fruits/purpleFruit';\r\nimport { YellowFruit } from '../fruits/yellowFruit';\r\nclass GameActivity extends Activity{\r\n\r\n    constructor(stage){\r\n        logger.log('GameActivity created');\r\n        super(stage);\r\n        this.fruits = [RedFruit, BlueFruit, OrangeFruit, YellowFruit, GreenFruit, PurpleFruit];\r\n        this.time = 30;\r\n        this.nextFruitLaunch = options.fruitReloadTime;\r\n        this.fruitCountJumpTime = options.fruitTimeStep;\r\n        this.fruitLaunchCount = options.fruitStartCount;\r\n        this.handleTick = () => {\r\n            this.time -=  1 / createjs.Ticker.framerate;\r\n            this.nextFruitLaunch -= 1 / createjs.Ticker.framerate;\r\n            this.fruitCountJumpTime -= 1 / createjs.Ticker.framerate;\r\n            this.timeObject.set({text: `Time: ${Math.round(this.time)}`});\r\n            if(this.time <= 0){\r\n                createjs.Ticker.removeEventListener(\"tick\", this.handleTick);\r\n                this.stage.dispatchEvent('nextAcitity');\r\n                return;\r\n            }\r\n            if(this.fruitCountJumpTime <= 0){\r\n                this.fruitLaunchCount++;\r\n                this.fruitCountJumpTime = options.fruitTimeStep;\r\n            }\r\n            if(this.nextFruitLaunch <= 0){\r\n                this.nextFruitLaunch = options.fruitReloadTime;\r\n                for(let i = 0; i < this.fruitLaunchCount; i++){\r\n                    this.launchFruit();\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n    onInit(){\r\n        super.onInit();\r\n        this.setBackground();\r\n        this.launchFruit();\r\n        createjs.Ticker.addEventListener(\"tick\", this.handleTick);\r\n    }\r\n\r\n    createUI(){\r\n        this.scoreObject = new createjs.Text(`Score: ${this.player.score}`, \"20px 'Comic Sans'\", \"#ff7700\");\r\n        this.scoreObject.x = 25;\r\n        this.scoreObject.y = 25;\r\n        this.scoreObject.textBaseline = \"alphabetic\";\r\n        this.interfaceContainer.addChild(this.scoreObject);\r\n        this.timeObject = new createjs.Text(`Time: ${Math.round(this.time)}`, \"20px 'Comic Sans'\", \"#ff7700\");\r\n        this.timeObject.x = options.w - 95;\r\n        this.timeObject.y = 25;\r\n        this.timeObject.textBaseline = \"alphabetic\";\r\n        this.interfaceContainer.addChild(this.timeObject);\r\n    }\r\n\r\n    launchFruit(){\r\n        const fruit = this.getRandomFruit();\r\n        const imgFruit = this.assetsLoader.getImage(fruit.id);\r\n        const fruitShape = new createjs.Bitmap(imgFruit);\r\n        fruitShape.scale = options.imgScale;\r\n        fruitShape.regX = imgFruit.width / 2;\r\n        fruitShape.regY = imgFruit.height / 2;\r\n        fruitShape.x = 100;\r\n        fruitShape.y = options.h + options.fruitStartYOffset;\r\n\r\n        fruitShape.on('click', () => {\r\n            this.player.addScore(fruit.score);\r\n            this.scoreObject.set({text: `Score: ${this.player.score}`});\r\n            this.activeObjectsContainer.removeChild(fruitShape);\r\n            fruit.onCut();\r\n            this.placeCutFruit(\r\n                fruit,\r\n                {\r\n                    x: fruitShape.x,\r\n                    y: fruitShape.y,\r\n                    rotation: fruitShape.rotation\r\n                }\r\n            );\r\n        });\r\n        const path = fruit.generatePath();\r\n        createjs.Tween.get(fruitShape, {loop: false})\r\n        .to({guide: {path: path.up}, rotation: 360}, fruit.time, createjs.Ease.getPowOut(1.3))\r\n        .to({guide: {path: path.down}, rotation: 720}, fruit.time, createjs.Ease.getPowIn(1.3));\r\n\r\n        this.activeObjectsContainer.addChild(fruitShape);\r\n    }\r\n\r\n    placeCutFruit(fruit, coords){\r\n        const cutParts = fruit.getCutParts();\r\n\r\n        const leftPartImage = this.assetsLoader.getImage(cutParts.l);\r\n        const leftPartShape = new createjs.Bitmap(leftPartImage);\r\n        leftPartShape.scale = options.imgScale;\r\n        leftPartShape.x = coords.x - leftPartShape.scale * leftPartImage.width / 2;\r\n        leftPartShape.y = coords.y;\r\n        leftPartShape.regX = leftPartImage.width / 2;\r\n        leftPartShape.regY = leftPartImage.height / 2;\r\n\r\n        const rightPartImage = this.assetsLoader.getImage(cutParts.r);\r\n        const rightPartShape = new createjs.Bitmap(rightPartImage);\r\n        rightPartShape.scale = options.imgScale;\r\n        rightPartShape.x = coords.x + rightPartShape.scale * rightPartImage.width / 2 ;\r\n        rightPartShape.y = coords.y;\r\n        rightPartShape.regX = rightPartImage.width / 2;\r\n        rightPartShape.regY = rightPartImage.height / 2;\r\n\r\n        const spotImage = this.assetsLoader.getImage(cutParts.s);\r\n        const spotShape = new createjs.Bitmap(spotImage);\r\n        spotShape.scale = options.imgScale;\r\n        spotShape.x = coords.x;\r\n        spotShape.y = coords.y;\r\n        spotShape.regX = spotImage.width / 2;\r\n        spotShape.regY = spotImage.height / 2;\r\n\r\n        this.passiveObjectsContainer.addChild(leftPartShape);\r\n        this.passiveObjectsContainer.addChild(rightPartShape);\r\n        this.backgroundContainer.addChild(spotShape);\r\n        this.fallDownCutShape(leftPartShape, {x: leftPartShape.x, y: leftPartShape.y, rotation: -90});\r\n        this.fallDownCutShape(rightPartShape, {x: rightPartShape.x, y: rightPartShape.y, rotation: 90});        \r\n    }\r\n\r\n    fallDownCutShape(shape, coords){\r\n        const fallTime = this.getFallTime(coords.y);\r\n        createjs.Tween.get(shape, {loop: false, onComplete: () => {\r\n            logger.log('cut part has been fallen');\r\n        }})\r\n        .to({x: coords.x, y: options.h + options.fruitStartYOffset, rotation: coords.rotation}, fallTime, createjs.Ease.getPowIn(2));\r\n    }\r\n\r\n    getRandomFruit(){\r\n        const index = Math.floor(Math.random() * this.fruits.length);\r\n        return new this.fruits[index]();\r\n    }\r\n\r\n    getFallTime(y){\r\n        return options.fallTime * (options.h - y)/options.h; \r\n    }\r\n\r\n}\r\n\r\nexport { GameActivity };","import { Activity } from './activity';\r\nimport { options } from '../options';\r\nclass ResultActivity extends Activity{\r\n\r\n    constructor(stage){\r\n        super(stage);\r\n    }\r\n\r\n    onInit(){\r\n        super.onInit();\r\n        this.setBackground();\r\n    }\r\n\r\n    createUI(){\r\n        this.showScore();\r\n    }\r\n\r\n    showScore(){\r\n        const scoreObject = new createjs.Text(`Total score: ${this.player.score}`, \"30px 'Comic Sans'\", \"#ff7700\");\r\n        scoreObject.x = options.w / 4;\r\n        scoreObject.y = options.h / 2;\r\n        scoreObject.textBaseline = \"alphabetic\";\r\n        this.interfaceContainer.addChild(scoreObject);\r\n    }\r\n\r\n}\r\n\r\nexport { ResultActivity };","import { Activity } from './activity';\r\nimport { logger } from '../loggers/logger';\r\nimport { options } from '../options';\r\nclass StartActivity extends Activity{\r\n\r\n    constructor(stage){\r\n        logger.log('StartActivity created');\r\n        super(stage);\r\n    }\r\n\r\n    onInit(){\r\n        super.onInit();\r\n        this.setBackground();\r\n    }\r\n\r\n    createUI(){\r\n        this.createStartButton();\r\n    }\r\n\r\n    onDestroy(){\r\n\r\n    }\r\n\r\n    createStartButton(){\r\n        this.handleStartButtonClick = () => {\r\n            startButton.removeEventListener('click', this.handleStartButtonClick);\r\n            createjs.Tween.get(startButton, {loop: false, onComplete: () => {\r\n                this.stage.dispatchEvent('nextAcitity');\r\n            }})\r\n            .to({scale: 0.9}, 250, createjs.Ease.quadOut);\r\n        };\r\n        const image = this.assetsLoader.getImage('startButton');\r\n        const startButton = new createjs.Bitmap(image);\r\n        startButton.x = options.w / 2;\r\n        startButton.y = options.h / 2;\r\n        startButton.regX = image.width / 2;\r\n        startButton.regY = image.height / 2;\r\n        this.interfaceContainer.addChild(startButton);\r\n        startButton.addEventListener('click', this.handleStartButtonClick);\r\n    }\r\n\r\n}\r\n\r\nexport { StartActivity };","class AssetsManager{\r\n\r\n    constructor(){\r\n        this.images = {};\r\n        this.sounds = {};\r\n    }\r\n\r\n    loadImage(images = []){\r\n        const p1 = new Promise((resolve) => {\r\n            const preload = new createjs.LoadQueue();\r\n            \r\n            images.forEach(item => {\r\n                preload.loadFile(item);\r\n            });\r\n            preload.addEventListener(\"fileload\", res => {\r\n                this.images[res.item.id] = res.result;\r\n            });\r\n            preload.addEventListener(\"complete\", () => {\r\n                resolve();\r\n            });\r\n        });\r\n        return p1;\r\n    }\r\n\r\n    loadSounds(sounds = []){\r\n        sounds.forEach(item => {\r\n            createjs.Sound.registerSound(item.src, item.id);\r\n        });\r\n    }\r\n\r\n    getImage(id){\r\n        return this.images[id] || false;\r\n    }\r\n\r\n    getSound(id){\r\n        return this.sounds[id] || false;\r\n    }\r\n\r\n}\r\n\r\nexport const assetsManager = new AssetsManager();","import { Fruit } from './fruit';\r\nclass BlueFruit extends Fruit{\r\n\r\n    constructor(){\r\n        super();\r\n        this.score = 30;\r\n        this.time = 1500;\r\n        this.id = 'blueFruit';\r\n    }\r\n\r\n    getCutParts(){\r\n        return {\r\n            l: 'blueFruitL',\r\n            r: 'blueFruitR',\r\n            s: 'blueFruitS'\r\n        };\r\n    }\r\n\r\n}\r\n\r\nexport { BlueFruit };","import { options } from '../options';\r\nclass Fruit{\r\n\r\n    constructor(){\r\n        this.score = 0;\r\n        this.time = 0;\r\n        this.id = '';\r\n    }\r\n\r\n    generatePath(){\r\n        const leftBottomX = Math.round(Math.random() * (xLeftRange[1] - xLeftRange[0])) + xLeftRange[0];\r\n        const leftTopX = Math.round(Math.random() * (xLeftRange[1] - xLeftRange[0])) + xLeftRange[0];\r\n        const rightBottomX = Math.round(Math.random() * (xRightRange[1] - xRightRange[0])) + xRightRange[0];\r\n        const rightTopX = Math.round(Math.random() * (xRightRange[1] - xRightRange[0])) + xRightRange[0];\r\n        const bottomY = options.h + 50;\r\n        const topY = Math.round(Math.random() * (yTopRange[1] - yTopRange[0])) + yTopRange[0];\r\n        const middleTopX = Math.round((leftTopX + rightTopX)/2);\r\n\r\n        const path = {};\r\n\r\n        /*\r\n            choose fruit direction \r\n        */\r\n        if(Math.random() > 0.5){\r\n            path.up = [\r\n                leftBottomX, bottomY,\r\n                leftTopX, topY,\r\n                middleTopX, topY\r\n            ];\r\n            path.down = [\r\n                middleTopX, topY,\r\n                rightTopX, topY,\r\n                rightBottomX, bottomY\r\n            ];\r\n        }else{\r\n            path.up = [\r\n                rightBottomX, bottomY,\r\n                rightTopX, topY,\r\n                middleTopX, topY\r\n            ];\r\n            path.down = [\r\n                middleTopX, topY,\r\n                leftTopX, topY,\r\n                leftBottomX, bottomY\r\n            ]\r\n        }\r\n        \r\n        return path;\r\n    }\r\n\r\n    getCutParts(){\r\n        return {\r\n            l: 'blueFruitL',\r\n            r: 'blueFruitR',\r\n            s: 'blueFruitS'\r\n        };\r\n    }\r\n\r\n    onCut(){\r\n        createjs.Sound.play('swordUnsheathing');\r\n    }\r\n\r\n}\r\n\r\nconst xLeftRange = [0, options.w/3];\r\nconst yTopRange = [100, options.h / 2];\r\nconst xRightRange = [2 * options.w/3, options.w];\r\n\r\nexport { Fruit };","import { Fruit } from './fruit';\r\nclass GreenFruit extends Fruit{\r\n\r\n    constructor(){\r\n        super();\r\n        this.score = 5;\r\n        this.time = 2500;\r\n        this.id = 'greenFruit';\r\n    }\r\n\r\n    getCutParts(){\r\n        return {\r\n            l: 'greenFruitL',\r\n            r: 'greenFruitR',\r\n            s: 'greenFruitS'\r\n        };\r\n    }\r\n\r\n}\r\n\r\nexport { GreenFruit };","import { Fruit } from './fruit';\r\nclass OrangeFruit extends Fruit{\r\n\r\n    constructor(){\r\n        super();\r\n        this.score = 20;\r\n        this.time = 1700;\r\n        this.id = 'orangeFruit';\r\n    }\r\n\r\n    getCutParts(){\r\n        return {\r\n            l: 'orangeFruitL',\r\n            r: 'orangeFruitR',\r\n            s: 'orangeFruitS'\r\n        };\r\n    }\r\n\r\n}\r\n\r\nexport { OrangeFruit };","import { Fruit } from './fruit';\r\nclass PurpleFruit extends Fruit{\r\n\r\n    constructor(){\r\n        super();\r\n        this.score = 15;\r\n        this.time = 2100;\r\n        this.id = 'purpleFruit';\r\n    }\r\n\r\n    getCutParts(){\r\n        return {\r\n            l: 'purpleFruitL',\r\n            r: 'purpleFruitR',\r\n            s: 'purpleFruitS'\r\n        };\r\n    }\r\n\r\n}\r\n\r\nexport { PurpleFruit };","import { Fruit } from './fruit';\r\nclass RedFruit extends Fruit{\r\n\r\n    constructor(){\r\n        super();\r\n        this.time = 2000;\r\n        this.score = 25;\r\n        this.id = 'redFruit';\r\n    }\r\n\r\n    getCutParts(){\r\n        return {\r\n            l: 'redFruitL',\r\n            r: 'redFruitR',\r\n            s: 'redFruitS'\r\n        };\r\n    }\r\n\r\n}\r\n\r\nexport { RedFruit };","import { Fruit } from './fruit';\r\nclass YellowFruit extends Fruit{\r\n\r\n    constructor(){\r\n        super();\r\n        this.score = 10;\r\n        this.time = 2300;\r\n        this.id = 'yellowFruit';\r\n    }\r\n\r\n    getCutParts(){\r\n        return {\r\n            l: 'yellowFruitL',\r\n            r: 'yellowFruitR',\r\n            s: 'yellowFruitS'\r\n        };\r\n    }\r\n\r\n}\r\n\r\nexport { YellowFruit };","import { StartActivity } from './activities/startActivity';\r\nimport { GameActivity } from './activities/gameActivity';\r\nimport { ResultActivity } from './activities/resultActivity';\r\nimport { assetsManager } from './assetsManager';\r\nimport { imgsUrls } from './options';\r\nimport { soundUrls } from './options';\r\nimport { logger } from './loggers/logger';\r\nimport { Player } from './player';\r\n\r\nclass GameApp{\r\n\r\n    constructor(options){\r\n        const canvas = document.getElementById('gameapp');\r\n        this.stage = new createjs.Stage(canvas);\r\n        this.stage.enableDOMEvents(true);\r\n        createjs.Ticker.addEventListener(\"tick\", this.stage);\r\n        this.currentActivityIndex = 0;\r\n        this.activities = [\r\n            StartActivity,\r\n            GameActivity,\r\n            ResultActivity\r\n        ];\r\n        this.player = new Player();\r\n    }\r\n\r\n    init(){\r\n        assetsManager.loadSounds(soundUrls);\r\n        assetsManager.loadImage(imgsUrls)\r\n        .then(() => {\r\n            this.listenEvents();\r\n            this.runActivity(this.currentActivityIndex);\r\n        })\r\n        .catch(error => {\r\n            logger.error(error);\r\n        });\r\n    }\r\n\r\n    runActivity(index){\r\n        if(this.activities[index]){\r\n            const activity = new this.activities[index](this.stage);\r\n            activity.setPlayer(this.player);\r\n            activity.onInit();\r\n        }\r\n    }\r\n\r\n    listenEvents(){\r\n        this.stage.addEventListener('nextAcitity', () => {\r\n            this.stage.removeAllChildren();\r\n            this.currentActivityIndex++;\r\n            this.runActivity(this.currentActivityIndex);\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport { GameApp };","import { GameApp } from './gameApp';\r\nconst options = {\r\n    width: 397,\r\n    height: 632\r\n};\r\nwindow.onload = () => {\r\n    createjs.MotionGuidePlugin.install();\r\n    const gameApp = new GameApp(options);\r\n    gameApp.init();\r\n};\r\n","class ConsoleLogger{\r\n\r\n    constructor(){\r\n        \r\n    }\r\n\r\n    log(message = ''){\r\n        console.log(message);\r\n    }\r\n\r\n    warn(message = ''){\r\n        console.warn(message);\r\n    }\r\n\r\n    error(message = ''){\r\n        console.error(message);\r\n    }\r\n\r\n}\r\n\r\nexport { ConsoleLogger };","import { ConsoleLogger } from './consoleLogger';\r\nclass Logger{\r\n\r\n    constructor(loggerType){\r\n        switch(loggerType){\r\n            case loggerTypes.default:\r\n                this.logger = new ConsoleLogger();\r\n                break;\r\n            default:\r\n                this.logger = new ConsoleLogger();\r\n                break;\r\n        }\r\n    }\r\n\r\n    log(message = ''){\r\n        this.logger.log(message);\r\n    }\r\n\r\n    warn(message = ''){\r\n        this.logger.warn(message);\r\n    }\r\n\r\n    error(message = ''){\r\n        this.logger.error(message);\r\n    }\r\n\r\n}\r\n\r\nconst loggerTypes = {\r\n    default: 'console'\r\n};\r\n\r\nconst currentLoggerType = loggerTypes.default;\r\n\r\nexport const logger = new Logger(currentLoggerType);","export const options = {\r\n    w: 422,\r\n    h: 750,\r\n    fruitStartYOffset: 50,\r\n    imgScale: 0.5,\r\n    fallTime: 1500,\r\n    fruitReloadTime: 2,\r\n    fruitTimeStep: 8,\r\n    fruitStartCount: 1\r\n};\r\nexport const imgsUrls = [\r\n    {\r\n        id: 'background',\r\n        src: 'assets/background.jpg'\r\n    },\r\n    {\r\n        id: 'startButton',\r\n        src: 'assets/buttonplay.png'\r\n    },\r\n    {\r\n        id: 'redFruit',\r\n        src: 'assets/redFruit.png'\r\n    },\r\n    {\r\n        id: 'redFruitL',\r\n        src: 'assets/redFruitL.png'\r\n    },\r\n    {\r\n        id: 'redFruitR',\r\n        src: 'assets/redFruitR.png'\r\n    },\r\n    {\r\n        id: 'redFruitS',\r\n        src: 'assets/redFruitS.png'\r\n    },\r\n    {\r\n        id: 'blueFruit',\r\n        src: 'assets/blueFruit.png'\r\n    },\r\n    {\r\n        id: 'blueFruitL',\r\n        src: 'assets/blueFruitL.png'\r\n    },\r\n    {\r\n        id: 'blueFruitR',\r\n        src: 'assets/blueFruitR.png'\r\n    },\r\n    {\r\n        id: 'blueFruitS',\r\n        src: 'assets/blueFruitS.png'\r\n    },\r\n    {\r\n        id: 'greenFruit',\r\n        src: 'assets/greenFruit.png'\r\n    },\r\n    {\r\n        id: 'greenFruitL',\r\n        src: 'assets/greenFruitL.png'\r\n    },\r\n    {\r\n        id: 'greenFruitR',\r\n        src: 'assets/greenFruitR.png'\r\n    },\r\n    {\r\n        id: 'greenFruitS',\r\n        src: 'assets/greenFruitS.png'\r\n    },\r\n    {\r\n        id: 'yellowFruit',\r\n        src: 'assets/yellowFruit.png'\r\n    },\r\n    {\r\n        id: 'yellowFruitL',\r\n        src: 'assets/yellowFruitL.png'\r\n    },\r\n    {\r\n        id: 'yellowFruitR',\r\n        src: 'assets/yellowFruitR.png'\r\n    },\r\n    {\r\n        id: 'yellowFruitS',\r\n        src: 'assets/yellowFruitS.png'\r\n    },\r\n    {\r\n        id: 'orangeFruit',\r\n        src: 'assets/orangeFruit.png'\r\n    },\r\n    {\r\n        id: 'orangeFruitL',\r\n        src: 'assets/orangeFruitL.png'\r\n    },\r\n    {\r\n        id: 'orangeFruitR',\r\n        src: 'assets/orangeFruitR.png'\r\n    },\r\n    {\r\n        id: 'orangeFruitS',\r\n        src: 'assets/orangeFruitS.png'\r\n    },\r\n    {\r\n        id: 'purpleFruit',\r\n        src: 'assets/purpleFruit.png'\r\n    },\r\n    {\r\n        id: 'purpleFruitL',\r\n        src: 'assets/purpleFruitL.png'\r\n    },\r\n    {\r\n        id: 'purpleFruitR',\r\n        src: 'assets/purpleFruitR.png'\r\n    },\r\n    {\r\n        id: 'purpleFruitS',\r\n        src: 'assets/purpleFruitS.png'\r\n    }\r\n];\r\n\r\nexport const soundUrls = [\r\n    {\r\n        id: 'swordUnsheathing',\r\n        src: 'assets/swordUnsheathing.mp3'\r\n    }\r\n];","class Player{\r\n\r\n    constructor(){\r\n        this.score = 0;\r\n    }\r\n\r\n    addScore(score){\r\n        this.score += score;\r\n    }\r\n\r\n    reset(){\r\n        this.score = 0;\r\n    }\r\n\r\n}\r\n\r\nexport { Player };"],"sourceRoot":""}